<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>OpenBazaar</title>
	<meta name="generator" content="Bootply" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href="assets/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<!--[if lt IE 9]>
		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link href="assets/css/styles.css" rel="stylesheet">
</head>

<body>



    <!-- ############## Template ############## -->
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container" style="">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                 <span class="icon-bar"></span>
                 <span class="icon-bar"></span>
                 <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">OpenBazaar</a>
            </div>
            <div class="collapse navbar-collapse" style="">
                <ul class="nav navbar-nav">
                    <li><a href="#" class="" style="">Home</a>

                    </li>
                    <li><a href="#" class="">Explore</a>

                    </li>
                    <li><a href="#" class="">Sell</a>

                    </li>
                    <li class="active"><a href="#" class="">Import</a>

                    </li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </div>

    <!-- ##############   Body   ############## -->
    <div class="container">
        <div class="col-md-12">
            <div class="center-block text-center">
                <h1>OpenBazaar</h1>
                <p class="lead">Let's make trade free</p>
            </div>
        </div>
    </div>

    <!--
    ############################
    ############################    Contract Dump
    ############################
    ############################
    -->


    <!-- ##################################### -->
        <!-- Modal -->
            <!-- Large modal -->
            <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">OpenBazaar Ricardian Contract</h4>
                        </div>
                        <div class="modal-body">
                            <p>Paste in the raw contract below</p>
                            <textarea rows='6' class="form-control"  name="raw_contract" id="raw_contract"></textarea>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-warning" onclick="TryContract()">Example Contract</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" onclick="ParseContract(); get_image();" data-dismiss="modal">Import</button>
                        </div>
                    </div>

                </div>
            </div>
    <!-- ##################################### -->

    <!-- Image of the item -->

    <div class="container">
        <div class="menu row">

            <div class="product col-sm-6">
                <a href="#"><img class="img-responsive" src="assets/img/ec_guy.jpg" style="border:1px solid black" id="default-img"></a>
                <hr class="featurette-divider">
                <h2 id="itemTitle">Denim Jacket</h2>
                <p id="itemDescription">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis pharetra varius quam sit amet vulputate. Quisque mauris augue, molestie tincidunt condimentum vitae, gravida a libero. Aenean sit amet felis dolor, in sagittis nisi. Sed ac orci quis tortor imperdiet venenatis. Duis elementum auctor accumsan. Aliquam in felis sit amet augue.</p>
                <p id="itemCondition"><b>Condition: </b></p>
                <p id="itemKeywords"><b>Keywords: </b></p>
                <p id="itemRegion"><b>Region: </b></p>
                <p id="itemDelivery"><b>Est. delivery: </b></p>
                <p id="itemShippingfee"><b>Shipping fee: </b></p>
                <hr class="featurette-divider">
                <h3>Price</h3>
                <h3 class="text-right" id="itemBTC">0.04 BTC</h3>
                <h5 class="text-right" id="itemFiat">$10</h5>
                <p id="escrowAddress"><b>Multisig address: </b></p>
                <p id="escrowRedemption"><b>Redemption script: </b></p>
                </br>
                </br>
                <button class="btn btn-default btn-lg " data-toggle="modal" data-target=".bs-example-modal-lg">Import Contract</button>
                <hr>
            </div>    

            <div class="product col-sm-6">
                <div class="productsrow">

                    <div class="product menu-category">
                        <div class="menu-category-name list-group-item active"><h4>Merchant</h4></div>
                        <div class="menu-category-name list-group-item active">
                            <b><p id="merchantID">Merchant ID</p></b>
                            <p class="well" id="merchantPGPKey">PGP key goes here</p>
                            <p class="well" id="merchantECKey">EC key goes here</p>
                        </div>
                        <a href="#" class="menu-item list-group-item"><b>Verify</b><span class="badge"></span></a>
                    </div>

                    <div class="product menu-category">
                        <div class="menu-category-name list-group-item active"><h4>Buyer</h4></div>
                        <div class="menu-category-name list-group-item active">
                            <b><p id="buyerID">Buyer ID</p></b>
                            <p class="well" id="buyerPGPKey">PGP key goes here</p>
                            <p class="well" id="buyerECKey">EC key goes here</p>
                        </div>
                        <a href="#" class="menu-item list-group-item"><b>Verify</b><span class="badge"></span></a>
                    </div>

                    <div class="product menu-category">
                        <div class="menu-category-name list-group-item active"><h4>Notary</h4></div>
                        <div class="menu-category-name list-group-item active">
                            <b><p id="notaryID">Notary ID</p></b>
                            <p class="well" id="notaryPGPKey">PGP key goes here</p>
                            <p class="well" id="notaryECKey">EC key goes here</p>
                        </div>
                        <a href="#" class="menu-item list-group-item"><b>Verify</b><span class="badge"></span></a>
                    </div>

                    <div class="product menu-category">
                        <div class="menu-category-name list-group-item active"><h4>Metadata</h4></div>
                        <div class="menu-category-name list-group-item active">
                            <p id="OBCv">               <b>Version: </b>    </p>
                            <p id="contractCategory">   <b>Category: </b>   </p>
                            <p id="categorySub">        <b>Type: </b>       </p>
                            <p id="contractExpiry">     <b>Expires: </b>    </p>
                        </div>
                        <a href="#" class="menu-item list-group-item"><b>Verify</b><span class="badge"></span></a>
                    </div>

                </div>  
            </div>
        </div>
    </div>

    <!--spacer-->
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <br></br>
            </div>
        </div>
    </div>

<!--     Contract Import Script     -->
<script>
function ParseContract() {
    var varContract = document.getElementById("raw_contract").value;
    var obj = JSON.parse(varContract);

    // Contract Metadata
    document.getElementById("OBCv").innerHTML = "<b>Version: </b>" + obj.GenesisPart.metadata.OBCv;
    document.getElementById("contractCategory").innerHTML = "<b>Category: </b>" + obj.GenesisPart.metadata.Category;
    document.getElementById("categorySub").innerHTML = "<b>Type: </b>" + obj.GenesisPart.metadata.subCategory;
    document.getElementById("contractExpiry").innerHTML = "<b>Expires: </b>" + obj.GenesisPart.metadata.Expiration_Date;

    // Item
    document.getElementById("itemTitle").innerHTML = obj.GenesisPart.item_data.item_title;
    document.getElementById("itemDescription").innerHTML = obj.GenesisPart.item_data.item_description;
    document.getElementById("itemBTC").innerHTML = obj.GenesisPart.item_data.btcprice + " BTC";
    document.getElementById("itemFiat").innerHTML = obj.GenesisPart.item_data.fiatprice;
    document.getElementById("itemCondition").innerHTML = "<b>Condition: </b>" + obj.GenesisPart.item_data.item_condition;
    document.getElementById("itemKeywords").innerHTML = "<b>Keywords: </b>" + obj.GenesisPart.item_data.keywords.join(", ");
    document.getElementById("itemRegion").innerHTML = "<b>Region: </b>" + obj.GenesisPart.item_data.region;
    document.getElementById("itemDelivery").innerHTML = "<b>Est. delivery: </b>" + obj.GenesisPart.item_data.est_delivery;
    document.getElementById("itemShippingfee").innerHTML = "<b>Shipping fee: </b>" + obj.GenesisPart.item_data.shipping_fee;
    
    // Merchant
    document.getElementById("merchantID").innerHTML = obj.MerchantPart.Merchant_ID;
    document.getElementById("merchantPGPKey").innerHTML = obj.MerchantPart.Merchant_PGP_Key;
    document.getElementById("merchantECKey").innerHTML = obj.MerchantPart.Merchant_EC_Key;

    // Buyer
    document.getElementById("buyerID").innerHTML = obj.BuyerPart.Buyer_ID;
    document.getElementById("buyerPGPKey").innerHTML = obj.BuyerPart.Buyer_PGP_Key;
    document.getElementById("buyerECKey").innerHTML = obj.BuyerPart.Buyer_EC_Key;

    // Notary
    document.getElementById("notaryID").innerHTML = obj.NotaryPart.Notary_ID;
    document.getElementById("notaryPGPKey").innerHTML = obj.NotaryPart.Notary_PGP_Key;
    document.getElementById("notaryECKey").innerHTML = obj.NotaryPart.Notary_EC_Key;

    // Payment Escrow
    document.getElementById("escrowAddress").innerHTML = "<b>Multisignature Address: </b>" + obj.EscrowPart.escrow_address;
    document.getElementById("escrowRedemption").innerHTML = "<b>Redemption Script: </b>" + obj.EscrowPart.escrow_redemption;

}
</script>

<!-- Script: Replace main image with image in the contract -->
<script>
    function get_image() {
        var varContract = document.getElementById("raw_contract").value;
        var obj = JSON.parse(varContract);
        var src = obj.GenesisPart.item_data.item_image;
        show_image(obj.GenesisPart.item_data.item_image);
  }

  function show_image(src){
      var img = document.getElementById("default-img");
      img.src = src;

      // This next line will just add it to the <body> tag
      document.getElementById("default-img"); 
    }
</script>


<!--     Try Example Contract Script     -->
<script>
function TryContract() {
    var example = '{"GenesisPart":{"metadata":{"OBCv":"0.0.2","Category":"Physical Good","subCategory":"Fixed Price","Expiration_Date":"05/22/10"},"nonce":"2083236893","item_data":{"item_title":"Dominos Pizza", "item_description":"I will pay 10,000 bitcoins for a couple of pizzas.. like maybe 2 large ones so I have some left over for the next day. I like having left over pizza to nibble on later. You can make the pizza yourself and bring it to my house or order it for me from a delivery place, but what I am aiming for is getting food delivered in exchange for bitcoins where I do not have to order or prepare it myself, kind of like ordering a breakfast platter at a hotel or something, they just bring you something to eat and you are happy. I like things like onions, peppers, sausage, mushrooms, tomatoes, pepperoni, etc.. just standard stuff no weird fish topping or anything like that.  I also like regular cheese pizzas which may be cheaper to prepare or otherwise acquire.","btcprice":"10,000","fiatprice":"$41 USD","item_image":"https://i.imgur.com/L6l7oUW.jpg","item_condition":"Condition is good","quantity":"2","keywords":["pizza","bitcoin"],"region":"Jacksonville, Florida","est_delivery":"3 days","shipping_fee":"none"}},"MerchantPart":{"Merchant_ID":"Dominos", "Merchant_PGP_Key":"PGP Key", "Merchant_EC_Key":"EC Key", "signatures":{"Hash":"Hash of Genesis Part","PGP_sig":"Sig of Genesis Hash","secp256k1_sig":"Sig of Genesis Hash"}},"BuyerPart":{"Buyer_ID":"Laszlo", "Buyer_PGP_Key":"PGP Key", "Buyer_EC_Key":"EC Key", "signatures":{"Hash":"Hash of Merchant Part","PGP_sig":"Sig of Merchant Hash","secp256k1_sig":"Sig of Merchant Hash"}},"NotaryPart":{"Notary_ID":"Jercos", "Notary_PGP_Key":"PGP Key", "Notary_EC_Key":"EC Key", "signatures":{"Hash":"Hash of Buyer Part","PGP_sig":"Sig of Buyer Hash","secp256k1_sig":"Sig of Buyer Hash"}},"EscrowPart":{"escrow_address":"3MXYUBLWNETa5HTewZp1xMTt7AW9kbFNqs","escrow_redemption":"abc123432"}}';
    document.getElementById("raw_contract").innerHTML = example;
}
</script>

<!-- script references -->
<script src="jquery/jquery-1.10.2.js" type="text/javascript"></script>
<script src="jquery/jquery-ui.custom.min.js" type="text/javascript"></script>
<script src="assets/js/bootstrap.min.js"></script>

</body>
    <!--/template-->



</html>