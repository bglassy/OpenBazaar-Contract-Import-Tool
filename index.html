<!DOCTYPE html>
<html>

<!--     #########################################################################################     -->

<head>

	<title>OpenBazaar Contract Parser</title>
	
	<!--     MetaData     -->
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<!--     Stylesheets     -->
    <link href="bootstrap3/css/bootstrap.css" rel="stylesheet" />
	<link href="assets/css/get-shit-done.css" rel="stylesheet" />  
    <link href="assets/css/demo.css" rel="stylesheet" /> 
    
    <!--     Font Awesome     -->
    <link href="bootstrap3/css/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Grand+Hotel' rel='stylesheet' type='text/css'>

	<script>
		$('.btn-tooltip').tooltip();
	</script>

</head>

<!--     #########################################################################################     -->

<body>

	<!--     Pretty header thing     -->
	<div class="blurred-container">
	    
	    <!--     Logo bit     -->
	    <a href="https://openbazaar.org">
	         <div class="logo-container">
	            <div class="logo">
	                <img src="assets/img/obcatlogo.png">
	            </div>
	            <div class="brand">
	                OpenBazaar
	            </div>
	        </div>
	    </a>
	    
	    <!--     Text in the header thing     -->
	    <div class="motto">
	        <div>Let's make</div>
	        <div>Trade Free</div>
	    </div>
		
	    <!--     Pretty background images     -->
		<div class="img-src" style="background-image: url('assets/img/background4.jpg')"></div>
		<div class="img-src blur" style="opacity: 0; background-image: url('assets/img/background4-blur.jpg');"></div>

	</div>

	<!--     ______________________________________________________________________________________     -->

	<div class="main">
		
		<!--     Introductory Stuff     -->
		<div class="container">
			<h1>OpenBazaar Contract Parser</h1>
			<h3><b>This is how the Contract Parser works:</b></h3> 
			<p>Paste in your raw JSON-formatted contract below, press 'Import', and the JS will do the rest!</p>
		</div>

		<div class="container">
			
			<!--     Text area we paste the contract in     -->
			<textarea rows='12' class="form-control"  name="raw_contract" id="raw_contract"></textarea>
			
			<!--     Buttons     -->
			<div class="row tim-row" id="display-buttons" data-class="btn-info">
	            <div class="col-md-1">
	                <button type="button" class="btn btn-primary" id="TryButton" onclick="TryContract()">Example</button>
	            </div>
	            <div class="col-md-1">
	                <button type="button" class="btn btn-primary btn-tooltip" data-toggle="tooltip" data-placement="bottom" title="Converts scary JSON into something beautiful" id="ParseButton" onclick="ParseContract()">Import</button>
	            </div>
	        </div>
	        <button type="button" class="btn btn-primary" id="ModalPop" onclick="">Modal test</button>
			</br>
			</br>
			<hr class="featurette-divider">
			
			<!--     Where the javascript outputs goes     -->
			<div class="row">
				<div class="col-md-8">
					<h1 id="itemTitle">Item Title</h1>
				</div>
			</br>
			<div class="row">
				<div class="col-md-6">
                    <h4>Image</h4>
                    <img src="assets/img/obcatlogo.png" alt="Circle Image" class="img-thumbnail" width="400px">
                </div>
                <div class="col-md-6">
                	<h4>Description</h4>
                	<p id="itemDescription"></p>
               	</div>
			</div>
			<p id="parseDump2"></p>
			<p id="parseDump3"></p>
			<div class="space-30"></div>
		</div>
	</div>


	<div class="parallax-pro">
   	 
	   	<img src="assets/img/background1.jpg">
	    
	    <div class="container">
	        
	        <div class="row">
	            <div class="col-md-12 text-center">
	                <h1>
	                    <small>
	                        Our Project:<a>
	                    </a></small><a>
	                </a></h1><a>
	            </a></div><a>

	            </a><div class="col-md-6 col-md-offset-3 text-center"><a>
	                </a><h1 class="hello text-center"><a>
	                   </a><a href="https://openbazaar.org">OpenBazaar</a>
	                   <small>
	                    <ul class="list-unstyled">
	                        <li><a href="https://github.com/OpenBazaar/OpenBazaar">Github</a</li>
	                        <li><a href="https://blog.openbazaar.org">Blog</a></li>
	                        <li><a href="https://tip4commit.com/github/OpenBazaar/OpenBazaar">Tip4Commit</a></li>
	                        <li><a href="mailto:project@openbazaar.org">Email</a></li>
	                    </ul>
	                    </small>
	                </h1>
	            </div>
	        </div>
	        

	       
	        <div class="row">
	             <div class="col-md-12 text-center">
	                <div class="credits">
	                    Website made using Get S*** Done Kit by <a href="http://creative-tim.com"> Creative Tim</a> and images from <a href="http://unsplash.com">Unsplash</a>.
	                </div>
		            </div>
		        </div>
		    </div>

	</div>

</body>


<!--     #########################################################################################     -->

	<!--     All the scripts     -->

	<!--     Contract Import Script     -->
	<script>
	function ParseContract() {
		var varContract = document.getElementById("raw_contract").value;
		var obj = JSON.parse(varContract);
		
		document.getElementById("parseDump2").innerHTML = 
		"<h3>Genesis Part</h3>" +
			"<h4>Metadata:</h4>" + 
				"<b>OpenBazaar Contract Version: </b>" + obj.GenesisPart.metadata.OBCv + "<br>" +
				"<b>Category: </b>" + obj.GenesisPart.metadata.Category + "<br>" +
				"<b>Sub-category: </b>" + obj.GenesisPart.metadata.subCategory + "<br>" +
				"<b>Expiration Date: </b>" + obj.GenesisPart.metadata.Expiration_Date + "<br>" + "<br>" +
			"<h4>Item: </h4>" + 
				"<b>Title: </b>" + obj.GenesisPart.item_data.item_title + "<br>" + 
				"<b>Bitcoin Price: </b>" + obj.GenesisPart.item_data.btcprice + "<br>" + 
				"<b>Fiat Price: </b>" + obj.GenesisPart.item_data.fiatprice + "<br>" + 
				"<b>Image: </b>" + obj.GenesisPart.item_data.item_image + "<br>" + 
				"<b>Condition: </b>" + obj.GenesisPart.item_data.item_condition + "<br>" + 
				"<b>Quantity: </b>" + obj.GenesisPart.item_data.quantity + "<br>" + 
				"<b>Keywords: </b>" + obj.GenesisPart.item_data.keywords.join(", ") + "<br>" + 
				"<b>Region Available: </b>" + obj.GenesisPart.item_data.region + "<br>" + 
				"<b>Estimated Delivery: </b>" + obj.GenesisPart.item_data.est_delivery + "<br>" + 
				"<b>Shipping Fee: </b>" + obj.GenesisPart.item_data.shipping_fee + "<br><br>" +
		"<h3>Merchant Part</h3>" +
			"<h4>Merchant ID:</h4>" + 
				"<b>Merchant GUID: </b>" + obj.MerchantPart.Merchant_ID + "<br>" +
				"<b>Contract Part Hash: </b>" + obj.MerchantPart.signatures.Hash + "<br>" +
				"<b>GPG: </b>" + obj.MerchantPart.signatures.GPG + "<br>" +
				"<b>secp256k1: </b>" + obj.MerchantPart.signatures.secp256k1 + "<br>" + "<br><br>" +
		"<h3>Buyer Part</h3>" +
			"<h4>Buyer ID:</h4>" + 
				"<b>Buyer GUID: </b>" + obj.BuyerPart.Buyer_ID + "<br>" +
				"<b>Contract Part Hash: </b>" + obj.BuyerPart.signatures.Hash + "<br>" +
				"<b>GPG: </b>" + obj.BuyerPart.signatures.GPG + "<br>" +
				"<b>secp256k1: </b>" + obj.BuyerPart.signatures.secp256k1 + "<br>" + "<br><br>" +
		"<h3>Notary Part</h3>" +
			"<h4>Notary ID:</h4>" + 
				"<b>Notary GUID: </b>" + obj.NotaryPart.Notary_ID + "<br>" +
				"<b>Contract Part Hash: </b>" + obj.NotaryPart.signatures.Hash + "<br>" +
				"<b>GPG: </b>" + obj.NotaryPart.signatures.GPG + "<br>" +
				"<b>secp256k1: </b>" + obj.NotaryPart.signatures.secp256k1 + "<br>" + 
				"<b>Escrow Multisignature Adress: </b>" + obj.NotaryPart.escrow_address + "<br>" + 
				"<b>Escrow Multisignature Redemption Script: </b>" + obj.NotaryPart.escrow_redemption_address + "<br><br>";

		document.getElementById("itemTitle").innerHTML = obj.GenesisPart.item_data.item_title;
		document.getElementById("itemDescription").innerHTML = obj.GenesisPart.item_data.item_condition;
	}
	</script>

	<!--     Try Example Contract Script     -->
	<script>
	function TryContract() {
		var example = '{ "GenesisPart": { "metadata": { "OBCv": "0.0.1", "Category": "some category", "subCategory": "some subCategory", "Expiration_Date": "MM/DD/YYY" }, "nonce": "somehashOfthis1contracT", "item_data": { "item_title": "some product", "btcprice": "0.01", "fiatprice": "$10", "item_image": "someBase64imageHash", "item_condition": "some condition", "quantity": "some amount", "keywords": [ "some", "keywords" ], "region": "some place", "est_delivery": "eventually", "shipping_fee": "none" } }, "MerchantPart": { "Merchant_ID": "some_seller", "signatures": { "Hash": "somehash12345", "GPG": "*************", "secp256k1": "someuncompressedPubKey" } }, "BuyerPart": { "Buyer_ID": "some_seller", "signatures": { "Hash": "somehash12345", "GPG": "*************", "secp256k1": "someuncompressedPubKey" } }, "NotaryPart": { "Notary_ID": "some_seller", "signatures": { "Hash": "somehash12345", "GPG": "*************", "secp256k1": "someuncompressedPubKey" }, "escrow_address": "somemultisigEscrowaddRess1234", "escrow_redemption_address": "abc123432" }}';
		document.getElementById("raw_contract").innerHTML = example;
	}
	</script>



	<!--     Scripts for making the website look pretty     -->
    <script src="jquery/jquery-1.10.2.js" type="text/javascript"></script>
	<script src="assets/js/jquery-ui-1.10.4.custom.min.js" type="text/javascript"></script>
	<script src="bootstrap3/js/bootstrap.js" type="text/javascript"></script>
	<script src="assets/js/gsdk-checkbox.js"></script>
	<script src="assets/js/gsdk-radio.js"></script>
	<script src="assets/js/gsdk-bootstrapswitch.js"></script>
	<script src="assets/js/get-shit-done.js"></script>
    <script src="assets/js/custom.js"></script>

</html>
